parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"i0pI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultConfigLocation="./glue.config.json",exports.defaultLocation="./gateway.js",exports.gwGlobal="gateway_web";
},{}],"Earo":[function(require,module,exports) {
var global = arguments[3];

var t=arguments[3],e=200,r="__lodash_hash_undefined__",n=1,o=2,i=9007199254740991,u="[object Arguments]",a="[object Array]",c="[object AsyncFunction]",s="[object Boolean]",f="[object Date]",l="[object Error]",_="[object Function]",h="[object GeneratorFunction]",p="[object Map]",v="[object Number]",y="[object Null]",b="[object Object]",d="[object Promise]",g="[object Proxy]",j="[object RegExp]",w="[object Set]",m="[object String]",z="[object Symbol]",A="[object Undefined]",O="[object WeakMap]",S="[object ArrayBuffer]",x="[object DataView]",k="[object Float32Array]",E="[object Float64Array]",F="[object Int8Array]",P="[object Int16Array]",$="[object Int32Array]",U="[object Uint8Array]",B="[object Uint8ClampedArray]",I="[object Uint16Array]",L="[object Uint32Array]",T=/[\\^$.*+?()[\]{}|]/g,M=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,R={};R[k]=R[E]=R[F]=R[P]=R[$]=R[U]=R[B]=R[I]=R[L]=!0,R[u]=R[a]=R[S]=R[s]=R[x]=R[f]=R[l]=R[_]=R[p]=R[v]=R[b]=R[j]=R[w]=R[m]=R[O]=!1;var C="object"==typeof t&&t&&t.Object===Object&&t,N="object"==typeof self&&self&&self.Object===Object&&self,V=C||N||Function("return this")(),W="object"==typeof exports&&exports&&!exports.nodeType&&exports,G=W&&"object"==typeof module&&module&&!module.nodeType&&module,q=G&&G.exports===W,H=q&&C.process,J=function(){try{return H&&H.binding&&H.binding("util")}catch(t){}}(),K=J&&J.isTypedArray;function Q(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var u=t[r];e(u,r,t)&&(i[o++]=u)}return i}function X(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function Y(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Z(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function tt(t){return function(e){return t(e)}}function et(t,e){return t.has(e)}function rt(t,e){return null==t?void 0:t[e]}function nt(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function ot(t,e){return function(r){return t(e(r))}}function it(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var ut=Array.prototype,at=Function.prototype,ct=Object.prototype,st=V["__core-js_shared__"],ft=at.toString,lt=ct.hasOwnProperty,_t=function(){var t=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ht=ct.toString,pt=RegExp("^"+ft.call(lt).replace(T,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=q?V.Buffer:void 0,yt=V.Symbol,bt=V.Uint8Array,dt=ct.propertyIsEnumerable,gt=ut.splice,jt=yt?yt.toStringTag:void 0,wt=Object.getOwnPropertySymbols,mt=vt?vt.isBuffer:void 0,zt=ot(Object.keys,Object),At=Oe(V,"DataView"),Ot=Oe(V,"Map"),St=Oe(V,"Promise"),xt=Oe(V,"Set"),kt=Oe(V,"WeakMap"),Et=Oe(Object,"create"),Ft=Be(At),Pt=Be(Ot),$t=Be(St),Ut=Be(xt),Bt=Be(kt),It=yt?yt.prototype:void 0,Lt=It?It.valueOf:void 0;function Tt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Mt(){this.__data__=Et?Et(null):{},this.size=0}function Dt(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Rt(t){var e=this.__data__;if(Et){var n=e[t];return n===r?void 0:n}return lt.call(e,t)?e[t]:void 0}function Ct(t){var e=this.__data__;return Et?void 0!==e[t]:lt.call(e,t)}function Nt(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Et&&void 0===e?r:e,this}function Vt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Wt(){this.__data__=[],this.size=0}function Gt(t){var e=this.__data__,r=le(e,t);return!(r<0)&&(r==e.length-1?e.pop():gt.call(e,r,1),--this.size,!0)}function qt(t){var e=this.__data__,r=le(e,t);return r<0?void 0:e[r][1]}function Ht(t){return le(this.__data__,t)>-1}function Jt(t,e){var r=this.__data__,n=le(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Kt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Qt(){this.size=0,this.__data__={hash:new Tt,map:new(Ot||Vt),string:new Tt}}function Xt(t){var e=Ae(this,t).delete(t);return this.size-=e?1:0,e}function Yt(t){return Ae(this,t).get(t)}function Zt(t){return Ae(this,t).has(t)}function te(t,e){var r=Ae(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function ee(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Kt;++e<r;)this.add(t[e])}function re(t){return this.__data__.set(t,r),this}function ne(t){return this.__data__.has(t)}function oe(t){var e=this.__data__=new Vt(t);this.size=e.size}function ie(){this.__data__=new Vt,this.size=0}function ue(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function ae(t){return this.__data__.get(t)}function ce(t){return this.__data__.has(t)}function se(t,r){var n=this.__data__;if(n instanceof Vt){var o=n.__data__;if(!Ot||o.length<e-1)return o.push([t,r]),this.size=++n.size,this;n=this.__data__=new Kt(o)}return n.set(t,r),this.size=n.size,this}function fe(t,e){var r=Te(t),n=!r&&Le(t),o=!r&&!n&&De(t),i=!r&&!n&&!o&&Ge(t),u=r||n||o||i,a=u?Z(t.length,String):[],c=a.length;for(var s in t)!e&&!lt.call(t,s)||u&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Ee(s,c))||a.push(s);return a}function le(t,e){for(var r=t.length;r--;)if(Ie(t[r][0],e))return r;return-1}function _e(t,e,r){var n=e(t);return Te(t)?n:X(n,r(t))}function he(t){return null==t?void 0===t?A:y:jt&&jt in Object(t)?Se(t):Ue(t)}function pe(t){return We(t)&&he(t)==u}function ve(t,e,r,n,o){return t===e||(null==t||null==e||!We(t)&&!We(e)?t!=t&&e!=e:ye(t,e,r,n,ve,o))}function ye(t,e,r,o,i,c){var s=Te(t),f=Te(e),l=s?a:ke(t),_=f?a:ke(e),h=(l=l==u?b:l)==b,p=(_=_==u?b:_)==b,v=l==_;if(v&&De(t)){if(!De(e))return!1;s=!0,h=!1}if(v&&!h)return c||(c=new oe),s||Ge(t)?je(t,e,r,o,i,c):we(t,e,l,r,o,i,c);if(!(r&n)){var y=h&&lt.call(t,"__wrapped__"),d=p&&lt.call(e,"__wrapped__");if(y||d){var g=y?t.value():t,j=d?e.value():e;return c||(c=new oe),i(g,j,r,o,c)}}return!!v&&(c||(c=new oe),me(t,e,r,o,i,c))}function be(t){return!(!Ve(t)||Pe(t))&&(Ce(t)?pt:M).test(Be(t))}function de(t){return We(t)&&Ne(t.length)&&!!R[he(t)]}function ge(t){if(!$e(t))return zt(t);var e=[];for(var r in Object(t))lt.call(t,r)&&"constructor"!=r&&e.push(r);return e}function je(t,e,r,i,u,a){var c=r&n,s=t.length,f=e.length;if(s!=f&&!(c&&f>s))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var _=-1,h=!0,p=r&o?new ee:void 0;for(a.set(t,e),a.set(e,t);++_<s;){var v=t[_],y=e[_];if(i)var b=c?i(y,v,_,e,t,a):i(v,y,_,t,e,a);if(void 0!==b){if(b)continue;h=!1;break}if(p){if(!Y(e,function(t,e){if(!et(p,e)&&(v===t||u(v,t,r,i,a)))return p.push(e)})){h=!1;break}}else if(v!==y&&!u(v,y,r,i,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function we(t,e,r,i,u,a,c){switch(r){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!a(new bt(t),new bt(e)));case s:case f:case v:return Ie(+t,+e);case l:return t.name==e.name&&t.message==e.message;case j:case m:return t==e+"";case p:var _=nt;case w:var h=i&n;if(_||(_=it),t.size!=e.size&&!h)return!1;var y=c.get(t);if(y)return y==e;i|=o,c.set(t,e);var b=je(_(t),_(e),i,u,a,c);return c.delete(t),b;case z:if(Lt)return Lt.call(t)==Lt.call(e)}return!1}function me(t,e,r,o,i,u){var a=r&n,c=ze(t),s=c.length;if(s!=ze(e).length&&!a)return!1;for(var f=s;f--;){var l=c[f];if(!(a?l in e:lt.call(e,l)))return!1}var _=u.get(t);if(_&&u.get(e))return _==e;var h=!0;u.set(t,e),u.set(e,t);for(var p=a;++f<s;){var v=t[l=c[f]],y=e[l];if(o)var b=a?o(y,v,l,e,t,u):o(v,y,l,t,e,u);if(!(void 0===b?v===y||i(v,y,r,o,u):b)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var d=t.constructor,g=e.constructor;d!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof d&&d instanceof d&&"function"==typeof g&&g instanceof g)&&(h=!1)}return u.delete(t),u.delete(e),h}function ze(t){return _e(t,qe,xe)}function Ae(t,e){var r=t.__data__;return Fe(e)?r["string"==typeof e?"string":"hash"]:r.map}function Oe(t,e){var r=rt(t,e);return be(r)?r:void 0}function Se(t){var e=lt.call(t,jt),r=t[jt];try{t[jt]=void 0;var n=!0}catch(i){}var o=ht.call(t);return n&&(e?t[jt]=r:delete t[jt]),o}Tt.prototype.clear=Mt,Tt.prototype.delete=Dt,Tt.prototype.get=Rt,Tt.prototype.has=Ct,Tt.prototype.set=Nt,Vt.prototype.clear=Wt,Vt.prototype.delete=Gt,Vt.prototype.get=qt,Vt.prototype.has=Ht,Vt.prototype.set=Jt,Kt.prototype.clear=Qt,Kt.prototype.delete=Xt,Kt.prototype.get=Yt,Kt.prototype.has=Zt,Kt.prototype.set=te,ee.prototype.add=ee.prototype.push=re,ee.prototype.has=ne,oe.prototype.clear=ie,oe.prototype.delete=ue,oe.prototype.get=ae,oe.prototype.has=ce,oe.prototype.set=se;var xe=wt?function(t){return null==t?[]:(t=Object(t),Q(wt(t),function(e){return dt.call(t,e)}))}:He,ke=he;function Ee(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||D.test(t))&&t>-1&&t%1==0&&t<e}function Fe(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Pe(t){return!!_t&&_t in t}function $e(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ct)}function Ue(t){return ht.call(t)}function Be(t){if(null!=t){try{return ft.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ie(t,e){return t===e||t!=t&&e!=e}(At&&ke(new At(new ArrayBuffer(1)))!=x||Ot&&ke(new Ot)!=p||St&&ke(St.resolve())!=d||xt&&ke(new xt)!=w||kt&&ke(new kt)!=O)&&(ke=function(t){var e=he(t),r=e==b?t.constructor:void 0,n=r?Be(r):"";if(n)switch(n){case Ft:return x;case Pt:return p;case $t:return d;case Ut:return w;case Bt:return O}return e});var Le=pe(function(){return arguments}())?pe:function(t){return We(t)&&lt.call(t,"callee")&&!dt.call(t,"callee")},Te=Array.isArray;function Me(t){return null!=t&&Ne(t.length)&&!Ce(t)}var De=mt||Je;function Re(t,e){return ve(t,e)}function Ce(t){if(!Ve(t))return!1;var e=he(t);return e==_||e==h||e==c||e==g}function Ne(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function Ve(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function We(t){return null!=t&&"object"==typeof t}var Ge=K?tt(K):de;function qe(t){return Me(t)?fe(t):ge(t)}function He(){return[]}function Je(){return!1}module.exports=Re;
},{}],"zuKx":[function(require,module,exports) {
"use strict";function e(r){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.lazy=exports.fail=exports.succeed=exports.valueAt=exports.withDefault=exports.intersection=exports.union=exports.oneOf=exports.optional=exports.dict=exports.tuple=exports.array=exports.object=exports.constant=exports.unknownJson=exports.anyJson=exports.boolean=exports.number=exports.string=exports.isDecoderError=exports.Decoder=exports.Result=void 0;var r=function(e){return{ok:!0,result:e}},n=function(e){return!0===e.ok},t=function(e){return{ok:!1,error:e}},o=function(e){return!1===e.ok},u=function(e){return!0===e.ok?Promise.resolve(e.result):Promise.reject(e.error)},i=function(e,r){return!0===r.ok?r.result:e},s=function(e){if(!0===e.ok)return e.result;throw e.error},a=function(e){return e.reduce(function(e,r){return!0===r.ok?e.concat(r.result):e},[])},c=function(e,n){return!0===n.ok?r(e(n.result)):n},f=function(e,n,t){return!1===n.ok?n:!1===t.ok?t:r(e(n.result,t.result))},p=function(e,r){return!0===r.ok?r:t(e(r.error))},l=function(e,r){return!0===r.ok?e(r.result):r},d=Object.freeze({ok:r,isOk:n,err:t,isErr:o,asPromise:u,withDefault:i,withException:s,successes:a,map:c,map2:f,mapError:p,andThen:l});exports.Result=d;var g=function(){return(g=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)};function v(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&(n[t[o]]=e[t[o]])}return n}var y=require("lodash.isequal"),x=function(e){return"DecoderError"===e.kind&&"string"==typeof e.at&&"string"==typeof e.message};exports.isDecoderError=x;var h=function(e){return Array.isArray(e)},m=function(r){return"object"===e(r)&&null!==r&&!h(r)},b=function(r){switch(e(r)){case"string":return"a string";case"number":return"a number";case"boolean":return"a boolean";case"undefined":return"undefined";case"object":return r instanceof Array?"an array":null===r?"null":"an object";default:return JSON.stringify(r)}},w=function(e,r){return"expected "+e+", got "+b(r)},k=function(e){return e.map(function(e){return"string"==typeof e?"."+e:"["+e+"]"}).join("")},O=function(e,r){var n=r.at,t=v(r,["at"]);return g({at:e+(n||"")},t)},j=function(){function e(r){var n=this;this.decode=r,this.run=function(e){return p(function(r){return{kind:"DecoderError",input:e,at:"input"+(r.at||""),message:r.message||""}},n.decode(e))},this.runPromise=function(e){return u(n.run(e))},this.runWithException=function(e){return s(n.run(e))},this.map=function(r){return new e(function(e){return c(r,n.decode(e))})},this.andThen=function(r){return new e(function(e){return l(function(n){return r(n).decode(e)},n.decode(e))})},this.where=function(r,t){return n.andThen(function(n){return r(n)?e.succeed(n):e.fail(t)})}}return e.string=function(){return new e(function(e){return"string"==typeof e?r(e):t({message:w("a string",e)})})},e.number=function(){return new e(function(e){return"number"==typeof e?r(e):t({message:w("a number",e)})})},e.boolean=function(){return new e(function(e){return"boolean"==typeof e?r(e):t({message:w("a boolean",e)})})},e.constant=function(n){return new e(function(e){return y(e,n)?r(n):t({message:"expected "+JSON.stringify(n)+", got "+JSON.stringify(e)})})},e.object=function(n){return new e(function(e){if(m(e)&&n){var o={};for(var u in n)if(n.hasOwnProperty(u)){var i=n[u].decode(e[u]);if(!0!==i.ok)return void 0===e[u]?t({message:"the key '"+u+"' is required but was not present"}):t(O("."+u,i.error));void 0!==i.result&&(o[u]=i.result)}return r(o)}return m(e)?r(e):t({message:w("an object",e)})})},e.array=function(n){return new e(function(e){if(h(e)&&n){return e.reduce(function(e,r,t){return f(function(e,r){return e.concat([r])},e,function(e,r){return p(function(e){return O("["+r+"]",e)},n.decode(e))}(r,t))},r([]))}return h(e)?r(e):t({message:w("an array",e)})})},e.tuple=function(n){return new e(function(e){if(h(e)){if(e.length!==n.length)return t({message:"expected a tuple of length "+n.length+", got one of length "+e.length});for(var o=[],u=0;u<n.length;u++){var i=n[u].decode(e[u]);if(!i.ok)return t(O("["+u+"]",i.error));o[u]=i.result}return r(o)}return t({message:w("a tuple of length "+n.length,e)})})},e.union=function(r,n){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];return e.oneOf.apply(e,[r,n].concat(t))},e.intersection=function(n,t){for(var o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];return new e(function(e){return[n,t].concat(o).reduce(function(r,n){return f(Object.assign,r,n.decode(e))},r({}))})},e.anyJson=function(){return new e(function(e){return r(e)})},e.unknownJson=function(){return new e(function(e){return r(e)})},e.dict=function(n){return new e(function(e){if(m(e)){var o={};for(var u in e)if(e.hasOwnProperty(u)){var i=n.decode(e[u]);if(!0!==i.ok)return t(O("."+u,i.error));o[u]=i.result}return r(o)}return t({message:w("an object",e)})})},e.optional=function(n){return new e(function(e){return void 0===e?r(void 0):n.decode(e)})},e.oneOf=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new e(function(e){for(var n=[],o=0;o<r.length;o++){var u=r[o].decode(e);if(!0===u.ok)return u;n[o]=u.error}var i=n.map(function(e){return"at error"+(e.at||"")+": "+e.message}).join('", "');return t({message:'expected a value matching one of the decoders, got the errors ["'+i+'"]'})})},e.withDefault=function(n,t){return new e(function(e){return r(i(n,t.decode(e)))})},e.valueAt=function(r,n){return new e(function(e){for(var o=e,u=0;u<r.length;u++){if(void 0===o)return t({at:k(r.slice(0,u+1)),message:"path does not exist"});if("string"==typeof r[u]&&!m(o))return t({at:k(r.slice(0,u+1)),message:w("an object",o)});if("number"==typeof r[u]&&!h(o))return t({at:k(r.slice(0,u+1)),message:w("an array",o)});o=o[r[u]]}return p(function(e){return void 0===o?{at:k(r),message:"path does not exist"}:O(k(r),e)},n.decode(o))})},e.succeed=function(n){return new e(function(e){return r(n)})},e.fail=function(r){return new e(function(e){return t({message:r})})},e.lazy=function(r){return new e(function(e){return r().decode(e)})},e}();exports.Decoder=j;var D=j.string;exports.string=D;var J=j.number;exports.number=J;var P=j.boolean;exports.boolean=P;var S=j.anyJson;exports.anyJson=S;var E=j.unknownJson;exports.unknownJson=E;var A=j.constant;exports.constant=A;var z=j.object;exports.object=z;var q=j.array;exports.array=q;var N=j.tuple;exports.tuple=N;var T=j.dict;exports.dict=T;var R=j.optional;exports.optional=R;var _=j.oneOf;exports.oneOf=_;var M=j.union;exports.union=M;var W=j.intersection;exports.intersection=W;var B=j.withDefault;exports.withDefault=B;var C=j.valueAt;exports.valueAt=C;var F=j.succeed;exports.succeed=F;var G=j.fail;exports.fail=G;var H=j.lazy;exports.lazy=H;
},{"lodash.isequal":"Earo"}],"L3ta":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var o=require("@mojotech/json-type-validation"),e=o.string().where(function(o){return o.length>0},"Expected a non-empty string");exports.gatewayConfigDecoder=o.object({location:o.optional(e),logging:o.optional(o.object({level:o.optional(o.oneOf(o.constant("trace"),o.constant("debug"),o.constant("info"),o.constant("warn"),o.constant("error"))),appender:o.optional(o.object({name:e,location:e}))}))}),exports.glue42CoreConfigDecoder=o.object({glue:o.optional(o.anyJson()),gateway:o.optional(exports.gatewayConfigDecoder)}),exports.gateGlobalDecoder=o.object({core:o.object({configure_logging:o.anyJson(),create:o.anyJson()})});
},{"@mojotech/json-type-validation":"zuKx"}],"RzkG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./defaults"),e=require("./validation"),o=function(r){if(r){importScripts(r.location);var e=self[r.name];if("function"!=typeof e)throw new Error("The appender function found, but it is not of type function");return e}},t=function(r){var e;try{e=o(r.logging.appender)}catch(n){return console.warn("Error applying custom logging configuration for the gateway, falling back to default logging configuration. Inner error:"),void console.warn(n)}var t={level:r.logging.level,appender:e};gateway_web.core.configure_logging(t)},n=function(){var o=e.gateGlobalDecoder.run(self[r.gwGlobal]);if(!o.ok)throw new Error("The global gateway object is not valid: "+o.error.message)};exports.startGateway=function(r){try{importScripts(r.location)}catch(o){throw new Error("Error loading the gateway from: "+r.location+". Inner error: "+JSON.stringify(o))}n(),r.logging&&t(r);var e=gateway_web.core.create({});return e.start(),e};
},{"./defaults":"i0pI","./validation":"L3ta"}],"ZCfc":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,a){function i(e){try{u(o.next(e))}catch(t){a(t)}}function c(e){try{u(o.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,c)}u((o=o.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(c){a=[6,c],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("./defaults"),o=require("./gateway"),r=require("./validation"),a=function(e,t){return void 0===t&&(t=3e3),new Promise(function(n,o){var r=!1,a=setTimeout(function(){r=!0,o(new Error("Fetch request for: "+e+" timed out at: "+t+" milliseconds"))},t);fetch(e).then(function(e){r||(clearTimeout(a),n(e))}).catch(function(e){r||(clearTimeout(a),o(e))})})},i=function(){return e(void 0,void 0,Promise,function(){var e,o,i,c;return t(this,function(t){switch(t.label){case 0:return[4,a(n.defaultConfigLocation)];case 1:return(e=t.sent()).ok?[4,e.json()]:(console.warn("Fetching Glue42 Config from: "+e.url+" failed with status: "+e.statusText+". Falling back to defaults"),[2,{location:n.defaultLocation}]);case 2:return o=t.sent(),(i=r.glue42CoreConfigDecoder.run(o)).ok?(c=i.result,[2,Object.assign({},{location:n.defaultLocation},c.gateway)]):(console.warn("Error validating the provided Glue42 Config: "+i.error.message+", falling back to defaults"),[2,{location:n.defaultLocation}])}})})};exports.start=function(){var e=i().catch(function(e){return console.warn("Error building the Glue42 Worker Config, falling back to defaults. Inner error:"),console.warn(e),{location:n.defaultLocation}}).then(o.startGateway).catch(function(e){console.error("Gateway initialization failed. Inner error:"),console.error(e)});onconnect=function(t){e.then(function(e){if(e){var n=t.ports[0],o=e.connect(function(e,t){return n.postMessage(t)});n.onmessage=function(e){o.then(function(t){return t.send(e.data)})}}})}};
},{"./defaults":"i0pI","./gateway":"RzkG","./validation":"L3ta"}],"QCba":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./main");e.start();
},{"./main":"ZCfc"}]},{},["QCba"], null)